{% extends 'base.html' %}

{% block content %}
    <h1 class="title"><font color="#ec6464">{% block title %} Records page №{{pagination.page}} {% endblock %}</font></h1>
    <div class="content">
        {% for record in pagination.items %}
            <div class="record">
                <b>
                    <b>#{{ record.id }}</b>
                    <font color="green">ID сотрудника</font> {{record.id_person}}
                    {% if record.name %}
                        <font color="green">Сотрудник:</font> 
                        <a href="{{ url_for('profile', profile_id=record.id_person)}}">
                            {{ record.name }}
                        </a>
                    {% else %}
                        <font color="green">Неавторизованный пользователь.</font>
                    {% endif %}
                    <font color="green">Время прохода через КПП:</font> {{record.time_created}}
                    <!--
                    {% if record.in_or_out %}
                    <font color="green">Статус:</font> На работе
                    {% else %}
                    <font color="green">Статус:</font> Вышел с работы
                    {% endif %}
                    -->

                </b>
            </div>
        {% endfor %}
    </div>
    <div class="pagination">
        {% if pagination.has_prev %}
            <span>
                <a class='page-number' href="{{ url_for('index', page=pagination.prev_num) }}">
                    {{ '<<<' }}
                </a>
            </span>
        {% endif %}
    
        {% for number in pagination.iter_pages() %}
            {% if pagination.page != number %}
                <span>
                        <a class='page-number'
                            href="{{ url_for('index', page=number) }}">
                        {{ number }}
                        </a>
                </span>
            {% else %}
                <span class='current-page-number'>{{ number }}</span>
            {% endif %}
        {% endfor %}
    
        {% if pagination.has_next %}
            <span>
                <a class='page-number'
                    href="{{ url_for('index', page=pagination.next_num) }}">
                    {{ '>>>' }}
                </a>
            </span>
        {% endif %}
    </div>
{% endblock %}
